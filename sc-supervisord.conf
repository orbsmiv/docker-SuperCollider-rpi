[supervisord]
nodaemon=true

[program:jackd]
command=/usr/local/bin/jackd -m -r -p 32 -T -d alsa -d hw:0 -n 3 -i ${CH_IN} -o ${CH_OUT} -p ${HW_BUFF} -P -r ${SR} -s
autorestart=unexpected

[program:scsynth]
command=/usr/local/bin/scsynth -u ${SC_SYNTH_PORT} -m ${SC_MEM} -D 0 -R 0 -i ${CH_IN} -o ${CH_OUT} -z ${SC_BLOCK}
autorestart=unexpected

[program:connect1]
depends_on = jackd, scsynth
command=/bin/bash -c "/usr/local/bin/jack_connect SuperCollider:out_1 system:playback_1 && sleep 1"
autorestart=unexpected
startretries=3
exitcodes=0
startsecs=1

[program:connect2]
depends_on = jackd, scsynth
command=/bin/bash -c "/usr/local/bin/jack_connect SuperCollider:out_2 system:playback_2 && sleep 1"
autorestart=unexpected
startretries=3
exitcodes=0
startsecs=1
